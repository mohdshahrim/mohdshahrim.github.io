<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style.css" rel="stylesheet">
    <script src="../alpinejs.min.js" defer></script>
    <title>BurstFM - the hits just keep on coming</title>
</head>
<body x-data="{
        isPlaying: false,
        mainIndex: 0,
        intervalAudio: new Audio('bell.ogg'),
        mainAudios: [
            new Audio('1.ogg'),
            new Audio('2.ogg'),
            new Audio('3.ogg'),
        ],
        togglePlay() {
            if (this.isPlaying) {
                document.getElementById('iconStop').style.display = 'none';
                document.getElementById('iconPlay').style.display = 'block';
                this.pause();
            } else {
                document.getElementById('iconStop').style.display = 'block';
                document.getElementById('iconPlay').style.display = 'none';
                this.start();
            }
        },
        start(){
            this.isPlaying = true;
            this.mainIndex = 0;
            this.playInterval(); // play 1.ogg first
        },
        pause()
        {
            this.isPlaying = false;
            this.intervalAudio.pause();
            this.mainAudios.forEach(a => a.pause());
        },
        playInterval()
        {
            if (!this.isPlaying) return;

            this.intervalAudio.currentTime = 0;
            this.intervalAudio.play();

            this.intervalAudio.onended = () => {
                if (this.isPlaying) {
                    this.playMain();
                }
            }
        },
        playMain() {
            if (!this.isPlaying || this.mainIndex >= this.mainAudios.length) {
                this.isPlaying = false;
                return;
            }

            let main = this.mainAudios[this.mainIndex];
            main.crossOrigin = 'anonymous';
            main.currentTime = 0;
            main.play();

            main.onended = () => {
                if (this.isPlaying) {
                    this.mainIndex++;
                    if (this.mainIndex < this.mainAudios.length) {
                        this.playInterval();
                    } else {
                        this.isPlaying = false;
                    }
                }
            }
        }
    }" class="bg-stone-950">
    <!-- top -->
    <div class="h-12 bg-stone-900 relative pt-2">
        <p class="text-stone-200 text-center text-3xl">BURST FM</p>
        <div class="absolute right-0 top-0">
            <a href="/">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-12 text-stone-200">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                </svg>
            </a>
        </div>
    </div>

    <!-- middle -->
    <div class="h-80 bg-stone-950 relative">
        <p class="text-stone-200 text-center">the hits just keep on coming</p>
        <!-- radio player region -->
        <div class="size-50 bg-stone-950 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
            <img class="rounded-full" src="me.jpg"/>
        </div>
    </div>

    <!-- play/pause button -->
    <div class="h-24 bg-stone-950 relative">
        <div class="rounded-full bg-stone-300 w-24 h-24 absolute right-10" x-on:click="togglePlay()">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-24 text-stone-900" id="iconPlay">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z" />
            </svg>

            <!-- hidden by default, only 1 icon at a time -->
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-24 text-stone-900 hidden" id="iconStop">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z" />
            </svg>
        </div>
    </div>

    <!-- simple blog entry -->
    <div class="p-10 text-xs">
        <p class="text-white">13/09/2025</p>
        <br>
        <p class="text-white">I dreamed on creating my own radio station.</p>
        <p class="text-white">I occasionally 'ran' my own radio on Whatsapp statuses, just for fun, tehee.</p>
        <br>
        <p class="text-white">With little knowledge I have on web development, I thought, why not try creating web interface for my radio? It doesn't have to be serious or full-scale engineering.</p>
        <br>
        <p class="text-white">All I need is HTML, Javascript, some CSS, few OGG files...</p>
        <br>
        <p class="text-white">...and VOILA, a shamelessly and barely working online radio station!</p>
        <br>
        <p class="text-white">Enjoy.</p>
    </div>
</body>
</html>